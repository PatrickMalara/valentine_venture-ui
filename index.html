<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

     <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="styles/root.css" />
    <link rel="stylesheet" href="styles/search.css" />
    <link rel="stylesheet" href="styles/modals.css" />
    <link rel="stylesheet" href="styles/preferences.css" />

    <link rel="shortcut icon" type="image/png" href="assets/favicon/favicon"/>
    <link rel="icon" type="image/png" href="assets/favicon/favicon-32x32.png"/>

    <title> Valentine Venture </title>
  </head>
  <body>

      <main>

          <form onsubmit="search(event)" action="" class="search-bar">
              <div style="display: flex; width: 100%">
                  <div onclick="open_login_signup_modal(event)" style="height: 24px; background: white; border: none; margin-right: 0.5rem;"/>
                    <img src="assets/logo.png" style="height: 24px;" />
                  </div>
                  <input type="text" name="search-bar" id="search-bar" style="width: calc(100% - 3rem); "/>
              </div>
              <button type="submit" name="search-btn"> Search </button>
          </form>

          <div id="map" style="width: 100%; height: 100vh;" class=""> </div>

        <section class="preferences">
            <button onclick="modals.open('preferences')"> <i class="bi bi-sliders"></i> Preferences </button>
            
            <button id="pref-outdoors" class="preference" onclick="toggle_preference('outdoors')" > Outdoors <span>x</span> </button>
            <button id="pref-eating" class="preference" onclick="toggle_preference('eating')" > Eating <span>x</span> </button>
            <button id="pref-drinking" class="preference" onclick="toggle_preference('drinking')" > Drinking <span>x</span> </button>
            <button id="pref-art" class="preference" onclick="toggle_preference('art')"> Art <span>x</span> </button>
            <button id="pref-games" class="preference" onclick="toggle_preference('games')"> Games <span>x</span> </button>
            <button id="pref-animals" class="preference" onclick="toggle_preference('animals')"> Animals <span>x</span> </button>
              
        </section>


        <section class="bottom-right-buttons">
            <button id="btn-random-location"> <i class="bi bi-dice-5-fill"></i> </button>
            <button id="btn-saved-locations" onclick="modals.open('saved_locations')" > <i class="bi bi-bookmark-fill"></i> </button>
        </sections>

      </main>


        <!-- Below are the Modals -->        

      <div id="location" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content">
              <div class="modal-header">
                <h3 id="location-modal-name" class="ghost-loading"> </h3>
                <i onclick="modals.close('location') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <div id="location-modal-banner" class="location-banner-img" style="min-height: 6rem;" class="ghost-loading">
              </div>

              <button onclick="modals.location.open_location_option_dropdown(event)" id="dropdown"> <i id="dropdown" class="bi bi-three-dots"></i> </button>


              <p id="location-modal-description" style="min-height:4rem" class="ghost-loading">
              </p>


              <button onclick="modals.location.save_location()"> <i class="bi bi-bookmark-fill" style="color: green;"></i> </button>

              <div id="location_option_dropdown" class="dropdown"> 
                  <ul>
                      <li> <i class="bi bi-hand-thumbs-up-fill"></i> Like </li>
                      <li> <i class="bi bi-hand-thumbs-down-fill"></i> Dislike </li>
                      <li> <i class="bi bi-flag"></i> Flag </li>
                  </ul>
              </div>
          </article>
      </div>


      <div id="preferences" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                  <h3> <i class="bi-sliders"></i> Preferences </h3>
                <i onclick="modals.close('preferences') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <button onclick="toggle_preference('outdoors') " > Outdoors </button>
              <button onclick="toggle_preference('eating') " > Eating </button>
              <button onclick="toggle_preference('drinking') " > Drinking </button>
              <button onclick="toggle_preference('art') " > Art </button>
              <button onclick="toggle_preference('games') " > Games </button>
              <button onclick="toggle_preference('animals') " > Animals </button>
              
          </article>
      </div>


      <div id="saved_locations" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                  <h3> <i class="bi-bookmark-fill" style="color: green;" ></i> Saved Locations</h3>
                <i onclick="modals.close('saved_locations') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <ul id="saved-list" style="list-style: none; padding-left: 0;">
              </ul>
              <template id="template-saved-item">
                  <li> 
                      <i class="bi bi-geo-alt-fill"> </i> <span>Location Name</span> 
                  </li>
              </template>
              
          </article>
      </div>


      <div id="user_menu" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                  <h3> <i class="bi-heart-fill"></i> User Menu </h3>
                <i onclick="modals.close('user_menu') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <div id="user-menu-content">
                  <button onclick=" modals.open('suggest-location') "> 
                      <i class="bi bi-lightbulb "></i> Suggest a Location 
                  </button>
              </div>
              
          </article>
      </div>


      <div id="suggest_location" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                  <h3> <i class="bi-lightbulb" ></i> Suggest a Location </h3>
                <i onclick="modals.close('suggest_location') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <form onsubmit="create_suggestion_record(event)" > 
                    <label> Location Name *</label> <br />
                    <input type="text" id="suggestion-name" name="name" required> <br /> <br />

                    <label> Description</label> <br />
                    <input type="text" id="suggestion-description" name="description"> <br /> <br />
    
                    <label> Main Category </label> <br />
                    <select  id="suggestion-category" name="select"> 
                    </select><br /> <br />

                    <label> Street Address *<i style=" font-size: small; color: lightgray;">Drag the marker to be more precise</i> </label> <br />
                    <input type="text" id="suggestion-address" name="address" required > <br /> <br />

                    <div id="suggestion-map" style=" width: 100%; height: 280px; "> </div> <br />

                    <button type="submit"> Suggest </button>
              </form>

          </article>
      </div>


      <div id="review_suggestions" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                  <h3> <i class="bi-check-circle" ></i> Review Suggestions </h3>
                <i onclick="modals.close('review_suggestions') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <button onclick="modals.review_suggestions.previous_suggestion()" > <i class="bi bi-chevron-left"></i> </button>
              <button onclick="modals.review_suggestions.next_suggestion()"> <i class="bi bi-chevron-right"></i> </button>
              <br />
              <button onclick="modals.review_suggestions.delete_curr_suggestion()"> Decline Suggestion </button>

              <form onsubmit="create_location_record(event)" > 
                    <label> Location Name</label> <br />
                    <input type="text" id="review-name" name="name" class="review-form-el" required> <br /> <br />

                    <label> Description</label> <br />
                    <input type="text" id="review-description" name="description" class="review-form-el" required > <br /> <br />

                    <label> Website </label> <br />
                    <input type="text" id="review-website" name="website" class="review-form-el"> <br /> <br />

                    <label> Banner Img </label> <br />
                    <input type="text" id="review-banner" name="banner" class="review-form-el"> <br /> <br />

    
                    <label> Main Category </label> <br />
                    <select  id="review-category" name="select" class="review-form-el"> 
                    </select><br /> <br />

                    <!-- @TODO  <label> Other Categories (N/A) </label> <br />
                    <select  id="suggestion-category" name="select"> 
                    </select><br /> <br /> -->

                    <label> Street Address *<i style=" font-size: small; color: lightgray;">Drag the marker to be more precise</i> </label> <br />
                    <input type="text" id="review-address" name="address" class="review-form-el" required > <br /> <br />

                    <div id="review-map" style=" width: 100%; height: 280px; "> </div> <br />

                    <button type="submit"> Create Location </button>
              </form>

              
          </article>
      </div>


      <div id="login_signup" class="modal" style="display: none; filter: opacity(0%);"> 
          <article class="modal-content" style="height: auto;">
              <div class="modal-header">
                <h3> <i class="bi-heart-fill"></i> Login or Signup </h3>
                <i onclick="modals.close('login_signup') " class="bi bi-x" style="cursor: pointer;"> </i>
              </div>

              <h4> Login </h4>
              <form onsubmit="modals.login_signup.attempt_login(event)">
                  <label>Email</label> <br />
                  <input type="email id="email" name="email" placeholder="johnsmith@gmail.com" /> <br /> <br />
                  <label>Password</label> <br />
                  <input type="password" id="password" name="password" /> <br /> <br />
                  <button type="submit"> Login </button>
              </form>

              <hr />

              <h4> Signup </h4>
              <form onsubmit="modals.login_signup.attempt_signup(event)">
                  <label>Email</label> <br />
                  <input type="email id="email" name="email" placeholder="johnsmith@gmail.com" /> <br /> <br />
                  <label>Password</label> <br />
                  <input type="password" id="password" name="password" /> <br /> <br />
                  <button type="submit"> Create Account </button>
              </form>
              
          </article>
      </div>



    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
    <script src="javascript/external/feathers.js"></script>
    <script src="javascript/external/socket.io.js"></script>
    <script src="javascript/global.js"></script>
    <script src="javascript/app.js"></script>
    <script src="javascript/modals.js"></script>

  </body>
</html>
